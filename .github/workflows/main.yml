name: Reading list on Issue open

on:
  issues:
    types: [opened, reopened]

jobs:
  build:
    runs-on: ubuntu-latest
    if: github.event.issue.user.login == 'jasonrclark'
    steps:
      - uses: actions/checkout@v3
      - name: Setup Ruby
        uses: ruby/setup-ruby@v1.111.0
        with:
          ruby-version: 3.1.2
      - uses: octokit/request-action@v2.x
        id: get_issue
        with:
          route: GET /repos/jasonrclark/jasonrclark.github.io/issues/${{ github.event.issue.number }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: Run a multi-line script
        run: |
          ruby -v
          echo "${{ toJson(steps.get_issue.outputs.data.body) }}"
